<!doctype html> 
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" />
    <title>My gh-pages | 0-1 Knapsack Problem Sample Implementation</title>
    <meta content="<p>" name="description" />
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><!--[if lt IE 9]><script src="../../../js/ie8.js" type="text/javascript"></script><![endif]--><link href="../../../css/all.css" media="screen" rel="stylesheet" type="text/css" /><script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle" data-target=".navbar-ex1-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">My gh-pages</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav">
            <li>
              <a href="#about"> About</a>
            </li>
            <li>
              <a href="#contact"> Contact</a>
            </li>
          </ul>
          <ul class="list-unstyled list-inline nav navbar-nav navbar-right">
            <li>
              <a href="#twitter"><i class="fa fa-twitter-square fa-lg fa-inverse"></i></a>
            </li>
            <li>
              <a href="#facebook"><i class="fa fa-facebook-square fa-lg fa-inverse"></i></a>
            </li>
            <li>
              <a href="#github"><i class="fa fa-github-square fa-lg fa-inverse"></i></a>
            </li>
            <li>
              <a href="#google-plus"><i class="fa fa-google-plus-square fa-lg fa-inverse"></i></a>
            </li>
            <li>
              <a href="#linkedin"><i class="fa fa-linkedin-square fa-lg fa-inverse"></i></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-lg-3 col-md-3">
          <div class="well">
            <h4>
              Tags
            </h4>
            <ul class="list-unstyled">
              <li>
                <a href="/tags/c.html">C++</a> (2)
              </li>
              <li>
                <a href="/tags/algorithm.html">Algorithm</a> (2)
              </li>
              <li>
                <a href="/tags/snippet.html">Snippet</a> (3)
              </li>
              <li>
                <a href="/tags/ruby.html">Ruby</a> (2)
              </li>
              <li>
                <a href="/tags/aws.html">AWS</a> (1)
              </li>
              <li>
                <a href="/tags/ubuntu.html">Ubuntu</a> (1)
              </li>
              <li>
                <a href="/tags/rbenv.html">rbenv</a> (1)
              </li>
              <li>
                <a href="/tags/middleman.html">Middleman</a> (1)
              </li>
              <li>
                <a href="/tags/python.html">Python</a> (1)
              </li>
            </ul>
          </div>
          <div class="well">
            <h4>
              By year
            </h4>
            <ol>
              <li>
                <a href="/2015.html">2015</a> (5)
              </li>
            </ol>
          </div>
        </div>
        <div class="col-lg-9 col-md-9">
          <h1>
            0-1 Knapsack Problem Sample Implementation
          </h1>
          <small class="label label-default">C++</small>
          <small class="label label-default">Algorithm</small>
          <small class="label label-default">Snippet</small>
          <hr />
          <p>
            <span class="glyphicon glyphicon-time"></span> Posted on Aug  1
          </p>
          <hr /><p></p>

<h3 id="problem-statement">Problem Statement</h3>

<p>The 0-1 knapsack problem: find the maximum profit \(p\) below, by choosing items to put in the knapsack whose capacity is given by \(w\). There are \(n\) items and each item \(i,\ (1\leq i\leq n)\) has a weight \(w_i\) and a decision variable \(x_i\) that takes 1 if the item \(i\) is selected or 0 otherwise.</p>

<div>
\[
\begin{align*}
&amp; &amp;&amp; p = \max_{1\leq i\leq n}{p_i x_i} \\
&amp; \text{subject to} &amp;&amp;
\sum_{i = 1}^n{w_i x_i} \leq w \\
&amp; &amp;&amp; x_i \in \left\{0, 1\right\}
\end{align*}
\]
</div>

<h3 id="sample-implementation">Sample Implementation</h3>

<script src="https://gist.github.com/shinaisan/142117ca2271d58db152.js"></script>

<h3 id="input">Input</h3>

<p>The format of the problem input for the above code is:</p>

<ul>
  <li><code>[The capacity of the knapsack (w)]</code> <code>[The number of items (n)]</code></li>
  <li>For each item[k] (k = 1, 2, …, n) in turn:
    <ul>
      <li><code>[Weight]</code> <code>[Profit]</code></li>
    </ul>
  </li>
</ul>

<h3 id="dynamic-programing">Dynamic Programing</h3>

<p>The code above implements psuedo-polynomial time algorithm using dynamic programming.
Assuming that \(\mathrm{dp}_{{i - 1},\ {x}}\) holds the solution of the smaller problem with \(n = i - 1\) and \(w = x\), the solution for \(n = i\) and \(w = x\) can be given by the following formula.</p>

<div>
\[
 \mathrm{dp}_{i,\ x} =
 \begin{cases}
 \mathrm{dp}_{{i - 1},\ x} &amp; \mbox{if } x \lt w_i
 \\
 \min\left\{ \mathrm{dp}_{{i - 1},_ x} ,\ \mathrm{dp}_{{i - 1},\ {x - w_i}} + p_i \right\}
 &amp; \mbox{if } x \geq w_i
 \end{cases}
\]
</div>

<p>And obviously \(\mathrm{dp}_{0,\ x} = 0\).</p>

<p>The solution is \(\mathrm{dp}_{n,\ w}\).</p>

<h3 id="backtracking">Backtracking</h3>

<p>The indices of chosen items in the optimal solution can be obtained by backtracking the above algorithm.</p>

<ul>
  <li>Initialize \(x \leftarrow w\).</li>
  <li>If \(\mathrm{dp}_ {n,\ x} \neq \mathrm{dp}_ {{n - 1},\ x}\), the item \(n\) was selected, so update 
\(x \leftarrow x - w_n\). Leave \(x\) unchanged otherwise.</li>
  <li>If \(\mathrm{dp}_ {{n - 1}, x} \neq \mathrm{dp}_ {{n - 2}, x}\), the item \(n - 1\) was selected, so update \(x \leftarrow x - w_ {n - 1}\). Leave \(x\) unchanged otherwise.</li>
  <li>…</li>
</ul>


          <aside>
            <h3>
              Recent Articles
            </h3>
            <ol>
              <li>
                <a href="/2015/08/01/0-1-knapsack-problem-sample-implementation.html">0-1 Knapsack Problem Sample Implementation</a> <span>Aug  1</span> 
              </li>
              <li>
                <a href="/2015/07/31/some-practice-examples-of-range-minimum-query-rmq.html">Some Practice Examples of Range Minimum Query (RMQ)</a> <span>Jul 31</span> 
              </li>
              <li>
                <a href="/2015/07/11/setting-up-python-virtualenv-with-virtualenvwrapper-on-ubuntu-ec2.html">Setting up Python virtualenv with virtualenvwrapper on Ubuntu/EC2</a> <span>Jul 11</span> 
              </li>
              <li>
                <a href="/2015/06/16/building-and-installing-ruby-with-rbenv-on-ubuntu-ec2.html">Building and Installing Ruby with rbenv on Ubuntu/EC2</a> <span>Jun 16</span> 
              </li>
              <li>
                <a href="/2015/06/03/starting-a-blog-with-middleman.html">Starting a Blog with Middleman</a> <span>Jun  3</span> 
              </li>
            </ol>
          </aside>
          <hr>
            <p class="text-center">
              2015 <a href="/">My gh-pages</a>
            </p>
          </hr>
        </div>
      </div>
    </div>
    <script src="../../../js/all.js" type="text/javascript"></script>
  </body>
</html>