<!doctype html> 
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" />
    <title>My gh-pages | 0-1 Knapsack Problem Sample Implementation</title>
    <meta content="<p>" name="description" />
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><!--[if lt IE 9]><script src="../../../js/ie8.js" type="text/javascript"></script><![endif]--><link href="../../../css/all.css" media="screen" rel="stylesheet" type="text/css" /><script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle" data-target=".navbar-ex1-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">My gh-pages</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav">
            <li>
              <a href="https://github.com/shinaisan"> About</a>
            </li>
            <li>
              <a href="https://github.com/shinaisan"><i class="fa fa-github-square fa-lg fa-inverse"></i></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-lg-3 col-md-3">
          <div class="well">
            <h4>
              Tags
            </h4>
            <ul class="list-unstyled">
              <li>
                <a href="/tags/git.html">Git</a> (1)
              </li>
              <li>
                <a href="/tags/snippet.html">Snippet</a> (6)
              </li>
              <li>
                <a href="/tags/gdb.html">GDB</a> (1)
              </li>
              <li>
                <a href="/tags/debugging.html">Debugging</a> (1)
              </li>
              <li>
                <a href="/tags/mqtt.html">MQTT</a> (1)
              </li>
              <li>
                <a href="/tags/mosquitto.html">Mosquitto</a> (1)
              </li>
              <li>
                <a href="/tags/network.html">Network</a> (1)
              </li>
              <li>
                <a href="/tags/protocol.html">Protocol</a> (1)
              </li>
              <li>
                <a href="/tags/python.html">Python</a> (1)
              </li>
              <li>
                <a href="/tags/javascript.html">JavaScript</a> (4)
              </li>
              <li>
                <a href="/tags/sudoku.html">Sudoku</a> (1)
              </li>
              <li>
                <a href="/tags/math.html">Math</a> (1)
              </li>
              <li>
                <a href="/tags/combinatorics.html">Combinatorics</a> (1)
              </li>
              <li>
                <a href="/tags/latin_square.html">Latin_Square</a> (1)
              </li>
              <li>
                <a href="/tags/puzzle.html">Puzzle</a> (1)
              </li>
              <li>
                <a href="/tags/sat.html">SAT</a> (1)
              </li>
              <li>
                <a href="/tags/solver.html">Solver</a> (1)
              </li>
              <li>
                <a href="/tags/3d.html">3D</a> (1)
              </li>
              <li>
                <a href="/tags/graphics.html">Graphics</a> (1)
              </li>
              <li>
                <a href="/tags/beetleblocks.html">BeetleBlocks</a> (1)
              </li>
              <li>
                <a href="/tags/visual.html">Visual</a> (1)
              </li>
              <li>
                <a href="/tags/programming.html">Programming</a> (1)
              </li>
              <li>
                <a href="/tags/fractal.html">Fractal</a> (1)
              </li>
              <li>
                <a href="/tags/ruby.html">Ruby</a> (4)
              </li>
              <li>
                <a href="/tags/mruby.html">mruby</a> (1)
              </li>
              <li>
                <a href="/tags/graph.html">graph</a> (1)
              </li>
              <li>
                <a href="/tags/visualization.html">visualization</a> (1)
              </li>
              <li>
                <a href="/tags/nlp.html">NLP</a> (1)
              </li>
              <li>
                <a href="/tags/wordnet.html">WordNet</a> (1)
              </li>
              <li>
                <a href="/tags/c.html">C++</a> (3)
              </li>
              <li>
                <a href="/tags/algorithm.html">Algorithm</a> (3)
              </li>
              <li>
                <a href="/tags/aws.html">AWS</a> (1)
              </li>
              <li>
                <a href="/tags/ubuntu.html">Ubuntu</a> (1)
              </li>
              <li>
                <a href="/tags/rbenv.html">rbenv</a> (1)
              </li>
              <li>
                <a href="/tags/wikipedia.html">Wikipedia</a> (1)
              </li>
              <li>
                <a href="/tags/thumbnail.html">thumbnail</a> (1)
              </li>
              <li>
                <a href="/tags/image.html">image</a> (1)
              </li>
              <li>
                <a href="/tags/viewer.html">viewer</a> (1)
              </li>
              <li>
                <a href="/tags/react.html">React</a> (1)
              </li>
              <li>
                <a href="/tags/redux.html">Redux</a> (1)
              </li>
              <li>
                <a href="/tags/react-router.html">react-router</a> (1)
              </li>
              <li>
                <a href="/tags/bootstrap.html">Bootstrap</a> (1)
              </li>
              <li>
                <a href="/tags/express.html">Express</a> (1)
              </li>
              <li>
                <a href="/tags/node.html">Node</a> (1)
              </li>
              <li>
                <a href="/tags/middleman.html">Middleman</a> (1)
              </li>
              <li>
                <a href="/tags/bindata.html">BinData</a> (1)
              </li>
            </ul>
          </div>
          <div class="well">
            <h4>
              By year
            </h4>
            <ol>
              <li>
                <a href="/2018.html">2018</a> (1)
              </li>
              <li>
                <a href="/2017.html">2017</a> (4)
              </li>
              <li>
                <a href="/2015.html">2015</a> (9)
              </li>
            </ol>
          </div>
        </div>
        <div class="col-lg-9 col-md-9">
          <h1>
            0-1 Knapsack Problem Sample Implementation
          </h1>
          <small class="label label-default">C++</small>
          <small class="label label-default">Algorithm</small>
          <small class="label label-default">Snippet</small>
          <hr />
          <p>
            <span class="glyphicon glyphicon-time"></span> Posted on Aug  1
          </p>
          <hr /><p></p>

<h3 id="problem-statement">Problem Statement</h3>

<p>The 0-1 knapsack problem: find the maximum profit \(p\) below, by choosing items to put in the knapsack whose capacity is given by \(w\). There are \(n\) items and each item \(i,\ (1\leq i\leq n)\) has a weight \(w_i\) and a decision variable \(x_i\) that takes 1 if the item \(i\) is selected or 0 otherwise.</p>

<div>
\[
\begin{align*}
&amp; &amp;&amp; p = \max_{1\leq i\leq n}{p_i x_i} \\
&amp; \text{subject to} &amp;&amp;
\sum_{i = 1}^n{w_i x_i} \leq w \\
&amp; &amp;&amp; x_i \in \left\{0, 1\right\}
\end{align*}
\]
</div>

<h3 id="sample-implementation">Sample Implementation</h3>

<script src="https://gist.github.com/shinaisan/142117ca2271d58db152.js"></script>

<h3 id="input">Input</h3>

<p>The format of the problem input for the above code is:</p>

<ul>
  <li><code>[The capacity of the knapsack (w)]</code> <code>[The number of items (n)]</code></li>
  <li>For each item[k] (k = 1, 2, …, n) in turn:
    <ul>
      <li><code>[Weight]</code> <code>[Profit]</code></li>
    </ul>
  </li>
</ul>

<h3 id="dynamic-programing">Dynamic Programing</h3>

<p>The code above implements psuedo-polynomial time algorithm using dynamic programming.
Assuming that \(\mathrm{dp}_{{i - 1},\ {x}}\) holds the solution of the smaller problem with \(n = i - 1\) and \(w = x\), the solution for \(n = i\) and \(w = x\) can be given by the following formula.</p>

<div>
\[
 \mathrm{dp}_{i,\ x} =
 \begin{cases}
 \mathrm{dp}_{{i - 1},\ x} &amp; \mbox{if } x \lt w_i
 \\
 \min\left\{ \mathrm{dp}_{{i - 1},_ x} ,\ \mathrm{dp}_{{i - 1},\ {x - w_i}} + p_i \right\}
 &amp; \mbox{if } x \geq w_i
 \end{cases}
\]
</div>

<p>And obviously \(\mathrm{dp}_{0,\ x} = 0\).</p>

<p>The solution is \(\mathrm{dp}_{n,\ w}\).</p>

<h3 id="backtracking">Backtracking</h3>

<p>The indices of chosen items in the optimal solution can be obtained by backtracking the above algorithm.</p>

<ul>
  <li>Initialize \(x \leftarrow w\).</li>
  <li>If \(\mathrm{dp}_ {n,\ x} \neq \mathrm{dp}_ {{n - 1},\ x}\), the item \(n\) was selected, so update 
\(x \leftarrow x - w_n\). Leave \(x\) unchanged otherwise.</li>
  <li>If \(\mathrm{dp}_ {{n - 1}, x} \neq \mathrm{dp}_ {{n - 2}, x}\), the item \(n - 1\) was selected, so update \(x \leftarrow x - w_ {n - 1}\). Leave \(x\) unchanged otherwise.</li>
  <li>…</li>
</ul>


          <aside>
            <h3>
              Recent Articles
            </h3>
            <ol>
              <li>
                <a href="/2018/08/18/greedy-set-cover-sample-implementation.html">Greedy Set Cover Sample Implementation</a> <span>Aug 18</span> 
              </li>
              <li>
                <a href="/2017/11/24/latin-square-and-sudoku-solver-using-sat-solver-javascript-logic-solver.html">Latin Square and Sudoku Solver Using SAT Solver (JavaScript logic-solver)</a> <span>Nov 24</span> 
              </li>
              <li>
                <a href="/2017/09/03/making-menger-sponge-with-beetleblocks.html">Making a Menger Sponge with BeetleBlocks</a> <span>Sep  3</span> 
              </li>
              <li>
                <a href="/2017/08/13/making-a-simple-image-viewer-using-react-and-express.html">Making a Simple Image Viewer using React and Express</a> <span>Aug 13</span> 
              </li>
              <li>
                <a href="/2017/05/06/cytoscape-js-powered-interactive-graph-visualization-of-wordnet-synsets.html">Cytoscape.js powered Interactive Graph Visualization of WordNet Synsets</a> <span>May  6</span> 
              </li>
              <li>
                <a href="/2015/12/22/browsing-task-dependencies-in-the-rakefile-of-mruby-using-jstree.html">Browsing Task Dependencies in the Rakefile of mruby using jsTree</a> <span>Dec 22</span> 
              </li>
              <li>
                <a href="/2015/10/06/inspecting-the-retransmission-behavior-of-the-mosquitto-mqtt-broker-with-gdb.html">Inspecting the Retransmission Behavior of the Mosquitto MQTT Broker with GDB</a> <span>Oct  6</span> 
              </li>
              <li>
                <a href="/2015/08/05/example-of-read_until-parameter-of-bindata-array.html">Example of read_until parameter of BinData::Array</a> <span>Aug  5</span> 
              </li>
              <li>
                <a href="/2015/08/02/trying-out-git-submodule.html">Trying out git-submodule</a> <span>Aug  2</span> 
              </li>
              <li>
                <a href="/2015/08/01/0-1-knapsack-problem-sample-implementation.html">0-1 Knapsack Problem Sample Implementation</a> <span>Aug  1</span> 
              </li>
            </ol>
          </aside>
          <hr>
            <p class="text-center">
              2015 <a href="/">My gh-pages</a>
            </p>
          </hr>
        </div>
      </div>
    </div>
    <script src="../../../js/all.js" type="text/javascript"></script>
  </body>
</html>